name: Telegram Issue Notifier

on:
  issues:
    types: [opened]

jobs:
  notify:
    name: Send Telegram Notification to Topic 10
    runs-on: ubuntu-latest
    steps:
      - name: Send message to Telegram Topic 10 via curl
        env:
          PAYLOAD: |
            {
              "chat_id": "@B1ackOS",
              "message_thread_id": 10,
              "text": "üí° –ù–æ–≤—ã–π Issue –æ—Ç–∫—Ä—ã—Ç!\n\n–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ${{ github.repository }}\n–ù–∞–∑–≤–∞–Ω–∏–µ Issue: ${{ github.event.issue.title }}\n–°–æ–¥–µ—Ä–∂–∏–º–æ–µ: ${{ github.event.issue.body }}\n–°—Å—ã–ª–∫–∞: ${{ github.event.issue.html_url }}",
              "parse_mode": "Markdown"
            }
        run: |
          curl -s -X POST \
          https://api.telegram.org/bot${{ secrets.TELEGRAM_TOKEN_BOT_ISSUES }}/sendMessage \
          -H 'Content-Type: application/json' \
          -d "$PAYLOAD"
